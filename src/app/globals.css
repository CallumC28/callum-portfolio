@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap');

/* ===== Design Tokens (HSL for easy tuning) ===== */
:root {
  /* Text & surfaces */
  --bg-0: 225 15% 6%;    /* page base */
  --bg-1: 220 18% 10%;   /* card base */
  --bg-2: 220 16% 14%;   /* card hover */
  --fg:   210 20% 98%;

  /* Brand gradient (primary → secondary → accent) */
  --brand-1: 217 91% 60%;  /* #3b82f6 */
  --brand-2: 258 90% 66%;  /* #8b5cf6 */
  --brand-3: 188 94% 42%;  /* #06b6d4 */

  /* Glass + borders */
  --glass-bg: 0 0% 100% / 6%;
  --glass-br: 0 0% 100% / 12%;
  --ring: 217 91% 60%;
}

/* ===== Base ===== */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  color: hsl(var(--fg));
  background:
    /* mesh lights */
    radial-gradient(40rem 30rem at 15% 80%, hsl(var(--brand-2) / .18) 0%, transparent 55%),
    radial-gradient(45rem 32rem at 85% 15%, hsl(var(--brand-3) / .18) 0%, transparent 55%),
    radial-gradient(30rem 22rem at 40% 40%, hsl(var(--brand-1) / .14) 0%, transparent 60%),
    /* base */
    linear-gradient(180deg, hsl(var(--bg-0)) 0%, hsl(var(--bg-0)) 100%);
  overflow-x: hidden;
  min-height: 100dvh;
  position: relative;
}

/* optional subtle noise (very faint) */
body::after {
  content: "";
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: .06;
  mix-blend-mode: soft-light;
  background-image: url("data:image/svg+xml;utf8,\
    <svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'>\
      <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/></filter>\
      <rect width='100%' height='100%' filter='url(%23n)' opacity='.35'/>\
    </svg>");
}

/* ===== Scrollbars ===== */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: hsl(var(--bg-1)); }
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, hsl(var(--brand-1)), hsl(var(--brand-2)));
  border-radius: 999px;
  border: 2px solid hsl(var(--bg-1));
}
::-webkit-scrollbar-thumb:hover { filter: brightness(1.1); }

/* ===== Focus (better accessibility) ===== */
:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px hsl(var(--ring) / .7), 0 0 0 6px hsl(var(--ring) / .15);
  border-radius: .5rem;
}

/* ===== Utilities ===== */
.glass {
  background: hsl(var(--glass-bg));
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--glass-br));
  box-shadow:
    0 1px 0 hsl(0 0% 100% / .03) inset,
    0 10px 30px hsl(0 0% 0% / .25);
}
.glass-strong {
  background: hsl(var(--glass-bg) / .85);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid hsl(var(--glass-br));
}

.glass-dark {
  background: hsl(0 0% 0% / .35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid hsl(var(--glass-br));
}

/* Gradient text helpers */
.gradient-text {
  background: linear-gradient(135deg,
    hsl(var(--brand-1)),
    hsl(var(--brand-2)),
    hsl(var(--brand-3)));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Soft divider line */
.divider {
  height: 1px;
  background: linear-gradient(90deg,
    transparent,
    hsl(var(--brand-1) / .35),
    hsl(var(--brand-2) / .35),
    transparent);
}

/* Card hover lift */
.lift {
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 30px hsl(0 0% 0% / .35);
  border-color: hsl(var(--brand-2) / .35);
}

/* Chip/Pill */
.chip {
  @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs;
  background: hsl(var(--glass-bg));
  border: 1px solid hsl(var(--glass-br));
}

/* Headings polish (doesn't fight Tailwind) */
h1, h2, h3 { letter-spacing: -0.01em; }
h1 { text-shadow: 0 10px 30px hsl(var(--brand-2) / .15); }

/* ===== Animations ===== */
@keyframes float { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-16px) } }
@keyframes pulse-glow {
  0% { box-shadow: 0 0 0 0 hsl(var(--brand-1) / .45) }
  70% { box-shadow: 0 0 0 12px hsl(var(--brand-1) / 0) }
  100% { box-shadow: 0 0 0 0 hsl(var(--brand-1) / 0) }
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}

/* Code blocks */
.code-block {
  background: hsl(var(--bg-1));
  border: 1px solid hsl(var(--glass-br));
  font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  border-radius: .75rem;
  padding: 1rem;
  box-shadow: 0 8px 24px hsl(0 0% 0% / .25);
}

/* Selection */
::selection {
  background: linear-gradient(90deg, hsl(var(--brand-1) / .6), hsl(var(--brand-2) / .6));
  color: white;
}

/* Mesh background class */
.mesh-bg {
  background:
    radial-gradient(40rem 30rem at 20% 80%, hsl(var(--brand-2) / .22) 0%, transparent 55%),
    radial-gradient(45rem 32rem at 80% 20%, hsl(var(--brand-3) / .20) 0%, transparent 55%),
    radial-gradient(30rem 22rem at 40% 40%, hsl(var(--brand-1) / .16) 0%, transparent 60%),
    linear-gradient(135deg, hsl(var(--bg-0)) 0%, hsl(var(--bg-0)) 100%) !important;
}

/* Subtle fade top/bottom mask for long sections */
.mask-fade {
  -webkit-mask-image: linear-gradient(to bottom, transparent, #000 10%, #000 90%, transparent);
  mask-image: linear-gradient(to bottom, transparent, #000 10%, #000 90%, transparent);
}
